// Shared translations for all pages
export const translations = {
  nl: {
    // Common
    back: 'Terug',
    loading: 'Laden...',
    save: 'Opslaan',
    reset: 'Reset',
    cancel: 'Annuleren',
    confirm: 'Bevestigen',
    error: 'Fout',
    success: 'Succes',
    
    // Navigation
    account: 'Account',
    profile: 'Profiel',
    settings: 'Instellingen',
    logout: 'Uitloggen',
    
    // Pigeon Management
    pigeon_management: 'Duiven Beheer',
    manage_collection: 'Beheer je duiven collectie',
    pigeon_management_desc: 'Bekijk, voeg toe en beheer al je duiven. Houd hun eigenschappen, gezondheid en prestaties bij.',
    open_pigeons: 'Open Duiven',
    manage_pigeons: 'Beheer je duiven en bekijk hun eigenschappen',
    start_with_pigeons: 'Start met 6 Duiven',
    
    // Filters
    all_genders: 'Alle Geslachten',
    males_only: 'Alleen Mannetjes',
    females_only: 'Alleen Vrouwtjes',
    all_statuses: 'Alle Statussen',
    flying_cage: 'Vliegkooi',
    breeding_cage: 'Kweekkooi',
    young: 'Jong',
    stopped: 'Gestopt',
    newest_first: 'Nieuwste Eerst',
    age: 'Leeftijd',
    speed: 'Snelheid',
    form_level: 'Vormpeil',
    condition: 'Conditie',
    
    // Pigeon Properties
    name: 'Naam',
    gender: 'Geslacht',
    age_months: 'Leeftijd (maanden)',
    status: 'Status',
    form_level_prop: 'Vormpeil',
    speed_prop: 'Snelheid',
    condition_prop: 'Conditie',
    orientation: 'Oriëntatie',
    technique: 'Techniek',
    experience: 'Ervaring',
    aerodynamics: 'Aerodynamica',
    intelligence: 'Intelligentie',
    night_flying: 'Nachtvliegen',
    libido: 'Libido',
    
    // Pigeon Loft
    pigeon_loft: 'Duiventil',
    manage_loft: 'Beheer je duiventil',
    loft_desc: 'Configureer je duiventil, beheer hokken en zorg voor optimale leefomstandigheden voor je duiven.',
    open_loft: 'Open Til',
    new_breeding_cage: 'Nieuwe Kweekkooi',
    new_flying_cage: 'Nieuwe Vliegkooi',
    standard_setup: 'Standaard Setup',
    male: 'Mannetje',
    female: 'Vrouwtje',
    pigeon: 'Duif',
    select_male: 'Selecteer mannetje',
    select_female: 'Selecteer vrouwtje',
    select_pigeon: 'Selecteer duif',
    
    // Feeding
    feeding: 'Voeding',
    corn: 'Maïs',
    wheat: 'Tarwe',
    barley: 'Gerst',
    peanut: 'Pinda',
    total: 'Totaal',
    
    // Training
    training: 'Training',
    train_pigeons: 'Train je duiven',
    training_desc: 'Plan trainingsvluchten, schrijf duiven in en volg hun prestaties in real-time simulaties.',
    start_training: 'Start Training',
    training_active: 'Training Actief',
    view_training: 'Bekijk Training',
    
    // Competitions
    competitions: 'Wedstrijden',
    competition_participation: 'Deelname aan wedstrijden',
    competitions_desc: 'Schrijf je in voor wedstrijden, volg de resultaten en bouw je reputatie op in de duivensport.',
    view_competitions: 'Bekijk Wedstrijden',
    
    // Finances
    finances: 'Financiën',
    manage_finances: 'Beheer je financiën',
    finances_desc: 'Houd inkomsten en uitgaven bij, analyseer je winstgevendheid en plan je investeringen.',
    open_finances: 'Open Financiën',
    
    // Messages
    pigeons_added_successfully: 'Duiven succesvol toegevoegd!',
    no_pigeons_found: 'Geen duiven gevonden',
    no_cages_found: 'Geen kooien gevonden',
    make_first_cage: 'Maak je eerste kooi aan om te beginnen!',
    error_loading: 'Fout bij laden',
    try_again: 'Probeer het opnieuw'
  },
  en: {
    // Common
    back: 'Back',
    loading: 'Loading...',
    save: 'Save',
    reset: 'Reset',
    cancel: 'Cancel',
    confirm: 'Confirm',
    error: 'Error',
    success: 'Success',
    
    // Navigation
    account: 'Account',
    profile: 'Profile',
    settings: 'Settings',
    logout: 'Logout',
    
    // Pigeon Management
    pigeon_management: 'Pigeon Management',
    manage_collection: 'Manage your pigeon collection',
    pigeon_management_desc: 'View, add and manage all your pigeons. Keep track of their properties, health and performance.',
    open_pigeons: 'Open Pigeons',
    manage_pigeons: 'Manage your pigeons and view their properties',
    start_with_pigeons: 'Start with 6 Pigeons',
    
    // Filters
    all_genders: 'All Genders',
    males_only: 'Males Only',
    females_only: 'Females Only',
    all_statuses: 'All Statuses',
    flying_cage: 'Flying Cage',
    breeding_cage: 'Breeding Cage',
    young: 'Young',
    stopped: 'Stopped',
    newest_first: 'Newest First',
    age: 'Age',
    speed: 'Speed',
    form_level: 'Form Level',
    condition: 'Condition',
    
    // Pigeon Properties
    name: 'Name',
    gender: 'Gender',
    age_months: 'Age (months)',
    status: 'Status',
    form_level_prop: 'Form Level',
    speed_prop: 'Speed',
    condition_prop: 'Condition',
    orientation: 'Orientation',
    technique: 'Technique',
    experience: 'Experience',
    aerodynamics: 'Aerodynamics',
    intelligence: 'Intelligence',
    night_flying: 'Night Flying',
    libido: 'Libido',
    
    // Pigeon Loft
    pigeon_loft: 'Pigeon Loft',
    manage_loft: 'Manage your pigeon loft',
    loft_desc: 'Configure your pigeon loft, manage cages and ensure optimal living conditions for your pigeons.',
    open_loft: 'Open Loft',
    new_breeding_cage: 'New Breeding Cage',
    new_flying_cage: 'New Flying Cage',
    standard_setup: 'Standard Setup',
    male: 'Male',
    female: 'Female',
    pigeon: 'Pigeon',
    select_male: 'Select male',
    select_female: 'Select female',
    select_pigeon: 'Select pigeon',
    
    // Feeding
    feeding: 'Feeding',
    corn: 'Corn',
    wheat: 'Wheat',
    barley: 'Barley',
    peanut: 'Peanut',
    total: 'Total',
    
    // Training
    training: 'Training',
    train_pigeons: 'Train your pigeons',
    training_desc: 'Plan training flights, register pigeons and follow their performance in real-time simulations.',
    start_training: 'Start Training',
    training_active: 'Training Active',
    view_training: 'View Training',
    
    // Competitions
    competitions: 'Competitions',
    competition_participation: 'Competition participation',
    competitions_desc: 'Register for competitions, follow the results and build your reputation in pigeon racing.',
    view_competitions: 'View Competitions',
    
    // Finances
    finances: 'Finances',
    manage_finances: 'Manage your finances',
    finances_desc: 'Track income and expenses, analyze your profitability and plan your investments.',
    open_finances: 'Open Finances',
    
    // Messages
    pigeons_added_successfully: 'Pigeons added successfully!',
    no_pigeons_found: 'No pigeons found',
    no_cages_found: 'No cages found',
    make_first_cage: 'Make your first cage to get started!',
    error_loading: 'Error loading',
    try_again: 'Try again'
  }
};

// Helper function to get current language from URL or localStorage
export function getCurrentLanguage() {
  const urlParams = new URLSearchParams(window.location.search);
  const langFromUrl = urlParams.get('lang');
  if (langFromUrl && (langFromUrl === 'nl' || langFromUrl === 'en')) {
    return langFromUrl;
  }
  return localStorage.getItem('language') || 'nl';
}

// Helper function to translate text
export function translate(key, language = null) {
  const lang = language || getCurrentLanguage();
  return translations[lang][key] || key;
}

// Helper function to translate page
export function translatePage() {
  const lang = getCurrentLanguage();
  const elements = document.querySelectorAll('[data-translate]');
  elements.forEach(element => {
    const key = element.getAttribute('data-translate');
    if (translations[lang][key]) {
      element.textContent = translations[lang][key];
    }
  });
}

// Helper function to add language selector to any page
export function addLanguageSelector() {
  const headerActions = document.querySelector('.header-actions');
  if (headerActions && !document.querySelector('.language-selector')) {
    const languageSelector = document.createElement('div');
    languageSelector.className = 'language-selector';
    languageSelector.innerHTML = `
      <button class="lang-button" onclick="changeLanguage('nl')" id="lang-nl">
        <span>NL</span>
      </button>
      <button class="lang-button" onclick="changeLanguage('en')" id="lang-en">
        <span>EN</span>
      </button>
    `;
    headerActions.insertBefore(languageSelector, headerActions.firstChild);
    
    // Add CSS for language selector
    if (!document.querySelector('#language-styles')) {
      const style = document.createElement('style');
      style.id = 'language-styles';
      style.textContent = `
        .language-selector {
          display: flex;
          gap: 0.25rem;
        }
        .lang-button {
          background: var(--bg-primary);
          border: 1px solid var(--border-color);
          padding: 0.5rem 0.75rem;
          border-radius: 8px;
          cursor: pointer;
          font-size: 0.8rem;
          font-weight: 600;
          transition: all 0.2s ease;
          color: var(--text-secondary);
        }
        .lang-button.active {
          background: var(--primary-color);
          color: white;
          border-color: var(--primary-color);
        }
        .lang-button:hover {
          background: var(--bg-secondary);
          transform: translateY(-1px);
        }
        .lang-button.active:hover {
          background: var(--primary-dark);
        }
      `;
      document.head.appendChild(style);
    }
    
    // Update active button
    const currentLang = getCurrentLanguage();
    document.getElementById('lang-nl').classList.toggle('active', currentLang === 'nl');
    document.getElementById('lang-en').classList.toggle('active', currentLang === 'en');
  }
}

// Global function to change language
window.changeLanguage = function(lang) {
  // Update localStorage
  localStorage.setItem('language', lang);
  
  // Update active button
  const nlButton = document.getElementById('lang-nl');
  const enButton = document.getElementById('lang-en');
  if (nlButton) nlButton.classList.toggle('active', lang === 'nl');
  if (enButton) enButton.classList.toggle('active', lang === 'en');
  
  // Translate page
  translatePage();
  
  // Update URL without reloading
  const url = new URL(window.location);
  url.searchParams.set('lang', lang);
  window.history.replaceState({}, '', url);
}; 